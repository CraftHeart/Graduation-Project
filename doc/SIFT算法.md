# SIFT算法
> 尺度不变特征转换是一种电脑视觉的算法用啊里侦测与描述影像中的局部性特征，它在空间尺度中寻找极值点，
> 并提出其位置、尺度、旋转不变量。SIFT算法的实质是在不同的尺度空间上查找关键点（特征点）,并计算出特征点的方向。
> SIFT所查找到的关键点是一些十分突出，不会因光照，仿射变换和噪音等因素而变化的点，如角点、边缘点、暗区的亮点
> 以及亮区的暗点等。  

SIFT算法分为四步：  
1. **尺度空间极值检测**：搜索所有尺度上的图像位置。通过高斯微分函数来识别潜在的对于尺度和旋转不变的兴趣点。
2. **特征点定位**：在每个候选位置上，通过一个拟合精细的模型来确定位置和尺度。关键点的选择依据于它们的稳定程度。  
3. **方向确定**：基于图像局部的梯度方向，分配给每一个关键点位置一个或多个方向。所有后面的对图像数据的操作都相对于
  关键点的方向、尺度和位置进行变换，从而提供对于这些变换的不变性。
4. **关键点描述**：在每个关键点周围的领域内，在选定的尺度上测量图像局部的梯度。在这些梯度被变换成一种表示，
  这种表示允许比较大的局部形状的变形和光照变化。

## 高斯模糊
sift算法是在不同的尺度空间上查找关键点，而尺度空间的获取需要使用高斯模糊来实现。Lindeberg等人已经
证明高斯卷积核是实现尺度变换的唯一变换核，并且是唯一的线性核，因此使用高斯核对图像模糊不会引入其他噪声。
### 二维高斯函数
高斯模糊是一种图像滤波器，它使用正态分布计算模糊模板，并使用该模板与原图像做卷积运算，达到模糊图像的目的。

## 尺度空间理论
基本思想：在图像信息处理模型中引入了一个被视为尺度的参数，通过连续变化尺度参数获得多尺度下的尺度空间
表示序列，对这些序列进行尺度空间主轮廓的提取，并以该主轮廓作为一种特征向量，实现边缘、角点检测和不同
分辨率上的特征提取等。  
一个图像的尺度空间，L(x, y, sigma)定义为一个变化尺度的高斯函数G(x, y, sigma)与原图像I(x,y)的卷积：  
![尺度空间计算](https://github.com/CraftHeart/Graduation-Project/blob/project/doc/pic/%E5%9B%BE%E5%83%8F%E5%B0%BA%E5%BA%A6%E7%A9%BA%E9%97%B4%E8%AE%A1%E7%AE%97.jpg)  
其中*表示卷积运算，  
![高斯函数](https://github.com/CraftHeart/Graduation-Project/blob/project/doc/pic/%E9%AB%98%E6%96%AF%E5%87%BD%E6%95%B0.jpg)  
m,n表示高斯模板的维度，(x,y)表示像素的位置，sigma是尺度空间因子，值越小表示图像被平滑的越少，相应的尺度也就越小。大尺度对应于图像的概貌特征，
小尺度对应于图像的细节特征。  

##高斯金字塔
尺度空间在实现时，使用高斯金字塔表示，高斯金字塔的构建分为两个部分：  
１. 对图像做不同尺度的高斯模糊；  
２. 对图像做降采样(隔点采样)；　　
图像的金字塔模型时指，将原始图像不断降采样，得到一系列大小不同的图像，由大到小，从下到上构成的塔状模型。原图像为金字塔的第一层，每次降采样
所得到的新图像为金字塔的一层，每个金字塔共n层。金字塔的层数根据图像的原始大小和塔顶图像大小共同决定，就按公式如下：  
![高斯金字塔层数计算](https://github.com/CraftHeart/Graduation-Project/blob/project/doc/pic/%E9%AB%98%E6%96%AF%E9%87%91%E5%AD%97%E5%A1%94%E5%B1%82%E6%95%B0%E8%AE%A1%E7%AE%97%E5%85%AC%E5%BC%8F.jpg)  
其中Ｍ,N为原图像的大小，ｔ为塔顶图像的最小维数的对数值。  
![图像金字塔与顶层图像大小的关系](https://github.com/CraftHeart/Graduation-Project/blob/project/doc/pic/%E5%9B%BE%E5%83%8F%E9%87%91%E5%AD%97%E5%A1%94%E5%B1%82%E6%95%B0%E4%B8%8E%E9%A1%B6%E5%B1%82%E5%9B%BE%E5%83%8F%E5%A4%A7%E5%B0%8F%E7%9A%84%E5%85%B3%E7%B3%BB.jpg)  
为了让尺度体现其连续性，高斯金字塔在简单降采样的基础上加上了高斯滤波。将图像金字塔每一层的一张图像使用不同参数做高斯模糊，使得金字塔的每层
含有多张高斯模糊图像，将金字塔每层多张图像合称为一组(Octave)，金字塔每层只有一组图像，组数和金字塔层数相等。另外，降采样时，高斯金字塔上一组图像
的初始图像由前一组图像的倒数第三张图像隔点采样而得到。  
![高斯金字塔]()  
只是提取SIFT特征时使用的是高斯金字塔，并没有强制规定所有尺度变换都要基于高斯模糊。SIFT特征使用高斯金字塔的原因是作者试图模仿人类的视觉系统，
在由近及远观察一个物体时，总是先变模糊(高斯模糊)然后变小(降采样)。　　
### 八度(Octave)
简单说就是基于同一张图片的某一个固定分辨率下，做不同的高斯模糊形成的图像的集合。而所有的八度的集合就形成了高斯金字塔。  
### 构建高斯金字塔
高斯金字塔时由很多歌金字塔组成，每个金字塔即为上述八度集成组成。而组与组之间的差别在于图像的分辨率，如下图所示：  
![高斯金字塔组成]()  
高斯金字塔构建过程中，一般首先将图像扩大一倍，在扩大的图像的基础上构建高斯金字塔，然后对该尺度下图像进行高斯模糊，几幅模糊之后的图像集合就构成了一个
八度，然后对该八度下的**最模糊的一幅图像进行下采样**，长和宽分别缩短一倍，图像面积变为原来的四分之一。  


